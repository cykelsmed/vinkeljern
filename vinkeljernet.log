2025-04-14 16:00:39,890 - root - DEBUG - Logging initialized
2025-04-14 16:00:39,890 - root - INFO - Vinkeljernet starting up
2025-04-14 16:00:39,892 - vinkeljernet.config - WARNING - Using randomly generated SECRET_KEY for development
2025-04-14 16:00:39,892 - vinkeljernet.config - INFO - Loaded OPENAI_API_KEY: sk-p************************************************************************************************************************************************************oZ4A
2025-04-14 16:00:39,892 - vinkeljernet.config - INFO - Loaded PERPLEXITY_API_KEY: pplx*********************************************mkop
2025-04-14 16:00:39,892 - vinkeljernet.config - INFO - Loaded ANTHROPIC_API_KEY: sk-a****************************************************************************************************TAAA
2025-04-14 16:00:39,942 - asyncio - DEBUG - Using selector: KqueueSelector
2025-04-14 16:00:39,943 - vinkeljernet.api_wrapper - INFO - Using optimized API client implementation
2025-04-14 16:00:39,956 - vinkeljernet.api - DEBUG - Created new aiohttp session for key: perplexity
2025-04-14 16:00:39,970 - vinkeljernet.api - DEBUG - Created new aiohttp session for key: anthropic
2025-04-14 16:00:39,984 - vinkeljernet.api - DEBUG - Created new aiohttp session for key: anthropic_sources
2025-04-14 16:00:39,997 - vinkeljernet.api - DEBUG - Created new aiohttp session for key: anthropic_editorial
2025-04-14 16:00:40,011 - vinkeljernet.api - DEBUG - Created new aiohttp session for key: anthropic_stream
2025-04-14 16:00:40,025 - vinkeljernet.api - DEBUG - Created new aiohttp session for key: anthropic_knowledge
2025-04-14 16:00:40,039 - vinkeljernet.api - DEBUG - Created new aiohttp session for key: perplexity_experts
2025-04-14 16:00:40,040 - vinkeljernet.api - INFO - API client initialized and ready
2025-04-14 16:00:40,044 - vinkeljernet.config_loader - INFO - Successfully loaded and validated profile: Berlingske
2025-04-14 16:00:40,047 - vinkeljernet.api_wrapper - INFO - Using optimized API client implementation
2025-04-14 16:00:40,047 - vinkeljernet.cache - INFO - Cache miss for fetch_topic_information, calling function
2025-04-14 16:00:40,047 - vinkeljernet.retry - INFO - DEBUG - retry_manager async_wrapper kwargs: {'progress_callback': <function main_async.<locals>.progress_callback at 0x104293c40>}
2025-04-14 16:00:47,638 - vinkeljernet.api - INFO - Perplexity API request completed in 7.59 seconds
2025-04-14 16:00:47,638 - vinkeljernet.cache - INFO - Cache miss for generate_knowledge_distillate, calling function
2025-04-14 16:00:47,638 - vinkeljernet.retry - INFO - DEBUG - retry_manager async_wrapper kwargs: {'topic_info': "## OVERSIGT\nKunstig intelligens (AI) handler om systemer, der kan analysere data, lære og træffe beslutninger på en måde, der ligner menneskelig intelligens. AI anvendes i mange sektorer, herunder sundhed, finans og landbrug, og har stor indvirkning på vores hverdag[1][3]. \n\n## AKTUEL STATUS\nKunstig intelligens er et meget relevant emne lige nu, da teknologien udvikles hurtigt og bliver mere integreret i både privatliv og samfundsfunktioner. Den nuværende situation kendetegnes af en stigende anvendelse af AI i mange industrier, samtidig med at der er fokus på ansvarlig udvikling og regulering[2][5].\n\n## NØGLETAL\n- **40 signaturprojekter**: I Danmark er der oprettet en investeringsfond, der har støttet 40 signaturprojekter for at afprøve AI i den offentlige sektor[2].\n- **Stigende anvendelse**: AI bliver mere almindeligt i mange sektorer, herunder sundhed, hvor det hjælper med diagnosticering og behandling[5].\n- **Regulering**: EU's forordning om kunstig intelligens skal sikre fælles spilleregler for brugen af AI[2].\n\n## PERSPEKTIVER\nDer er forskellige synspunkter på kunstig intelligens. Nogle ser AI som en stor mulighed for effektivisering og innovation, mens andre er bekymrede for etik, sikkerhed og jobtab[1][3]. Der er også fokus på at sikre, at AI udvikles på en ansvarlig måde, der respekterer samfundets værdier og borgernes rettigheder[2][5].", 'topic': 'Kunstig intelligens', 'progress_callback': <function main_async.<locals>.progress_callback at 0x104293c40>}
2025-04-14 16:00:52,245 - vinkeljernet.api - DEBUG - Raw knowledge distillate response: {
  "hovedpunkter": [
    "Kunstig intelligens (AI) handler om systemer, der kan analysere data, lære og træffe beslutninger på en måde, der ligner menneskelig intelligens.",
    "AI anvendes i mange sektorer, herunder sundhed, finans og landbrug, og har stor indvirkning på vores hverdag.",
    "Den nuværende situation kendetegnes af en stigende anvendelse af AI i mange industrier, samtidig med at der er fokus på ansvarlig udvikling og regulering.",
    "Der er forskellige synspunkter på kunstig intelligens, hvor nogle ser det som en stor mulighed for effektivisering og innovation, mens andre er bekymrede for etik, sikkerhed og jobtab."
  ],
  "noegletal": [
    {
      "tal": "40",
      "beskrivelse": "signaturprojekter i Danmark, hvor en investeringsfond har støttet projekter for at afprøve AI i den offentlige sektor",
      "kilde": "[2]"
    },
    {
      "tal": "Stigende",
      "beskrivelse": "anvendelse af AI i mange sektorer, herunder sundhed, hvor det hjælper med diagnostice...
2025-04-14 16:00:52,245 - json_parser - DEBUG - Attempting to parse JSON from knowledge distillate. Preview: {
  "hovedpunkter": [
    "Kunstig intelligens (AI) handler om systemer, der kan analysere data, lær...
2025-04-14 16:00:52,245 - json_parser - INFO - Successfully parsed JSON directly: 1 items found
2025-04-14 16:00:52,245 - vinkeljernet.api - INFO - Knowledge distillate generation completed in 4.61 seconds
2025-04-14 16:01:51,281 - prompt_engineering - DEBUG - Parsing angles from response (preview): [
  {
    "overskrift": "AI revolutionerer dansk erhvervsliv",
    "beskrivelse": "Kunstig intelligens bliver i stigende grad integreret i danske virksomheder. Det øger effektiviteten og konkurrenceev...
2025-04-14 16:01:51,282 - json_parser - DEBUG - Attempting to parse JSON from angle generation. Preview: [
  {
    "overskrift": "AI revolutionerer dansk erhvervsliv",
    "beskrivelse": "Kunstig intellige...
2025-04-14 16:01:51,282 - json_parser - INFO - Successfully parsed JSON directly: 8 items found
2025-04-14 16:01:51,282 - prompt_engineering - DEBUG - Using single dictionary as an angle
2025-04-14 16:01:51,283 - prompt_engineering - DEBUG - Successfully validated angle: AI revolutionerer dansk erhvervsliv
2025-04-14 16:01:51,283 - prompt_engineering - INFO - Successfully parsed 1 angles
2025-04-14 16:01:51,284 - vinkeljernet.cache - INFO - Cache miss for fetch_source_suggestions, calling function
2025-04-14 16:01:54,608 - vinkeljernet.cache - INFO - Cache miss for generate_expert_source_suggestions, calling function
2025-04-14 16:01:54,609 - vinkeljernet.retry - INFO - DEBUG - retry_manager async_wrapper kwargs: {'topic': 'Kunstig intelligens', 'angle_headline': 'AI revolutionerer dansk erhvervsliv', 'angle_description': 'Kunstig intelligens bliver i stigende grad integreret i danske virksomheder. Det øger effektiviteten og konkurrenceevnen, men rejser også spørgsmål om ansvarlig anvendelse.'}
2025-04-14 16:02:37,925 - json_parser - DEBUG - Attempting to parse JSON from expert source suggestions. Preview: ```json
{
  "eksperter": [
    {
      "navn": "Rasmus Dam Poulsen",
      "titel": "Kontor for anal...
2025-04-14 16:02:37,925 - json_parser - WARNING - Direct JSON parsing failed (JSONDecodeError): Expecting value: line 1 column 1 (char 0)
2025-04-14 16:02:37,925 - json_parser - INFO - Successfully parsed JSON after stripping non-JSON prefix/suffix: 1 items found
2025-04-14 16:02:37,925 - vinkeljernet.api - INFO - Expert source suggestions generated in 43.32 seconds
2025-04-14 16:02:37,930 - vinkeljernet.api_wrapper - INFO - Using optimized API client implementation
2025-04-14 16:02:37,935 - vinkeljernet.api - INFO - API client shut down successfully
